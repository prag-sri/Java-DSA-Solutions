import java.util.Scanner;
import java.util.ArrayList;
public class Main
{
	public static void main(String[] args) {
		Heap test_heap= new Heap();
		test_heap.insertHeap(10);
		test_heap.insertHeap(32);
		test_heap.insertHeap(19);
		test_heap.insertHeap(51);
		test_heap.insertHeap(12);
		test_heap.insertHeap(11);
		System.out.println(test_heap.maxHeapElement());
		test_heap.print();
		System.out.println();
		test_heap.deleteHeap();
		test_heap.print();
	}
}
class Heap
{
    ArrayList<Integer> heap= new ArrayList<>();
    int size;
    Heap(){
        this.size=0;
    }
    int parent(int index){
        return (index-1)/2;
    }
    int left(int index){
        return 2*index+1;
    }
    int right(int index){
        return 2*index+2;
    }
    void swap(int index1, int index2){
        int a= heap.get(index1);
        heap.set(index1,heap.get(index2));
        heap.set(index2,a);
    }
    void insertHeap(int element){
        //adding element at last of list and then shifting it to its correct position
        heap.add(element);
        
        //condition index!=0 as 0th index element will not have a parent coz its root
        int index= size;
        while(index!=0 && heap.get(index)>heap.get(parent(index)))        //if(ele<=parent)continue; else swap;
        {
            swap(index,parent(index));
            index= parent(index);
        }
        size++;
    }
    void deleteHeap(){
        //we have to delete root element
        
        //if only 1 or no element is present in heap
        if(size==0)
            return;
        if(size==1)
            heap.remove(0);
            
        else{
            swap(0,size-1);
            heap.remove(size-1);
            heapify(0);
        }
        size--; 
    }
    void heapify(int index){
        int largest= index;
        if(left(index)<size && heap.get(largest)<heap.get(left(index)))
            largest= left(index);
        if(right(index)<size && heap.get(largest)<heap.get(right(index)))
            largest= right(index);
        if(largest!=index)
        {
            swap(largest,index);
            heapify(largest);
        }
    }
    int maxHeapElement(){
        if(size==0)
            return -1;
        return heap.get(0);
    }
    void print(){
        for(int i=0; i<size; i++)
            System.out.print(heap.get(i)+" ");
    }
}
